(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(49),r=a.n(o),l=a(12),i=a(6),m=a(50),s=a(16),u=a(17),v=a(19),d=a(18),h=a(20);var f=function(e){return c.a.createElement("div",{className:"\n        jumbotron\n        ".concat(e.fluid?"jumbotron-fluid":"","\n        bg-").concat(e.bg||"default","\n        text-").concat(e.color||"dark","\n        text-center\n        ")},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",null,e.pageTitle))),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement(l.b,{to:"/search",className:"btn btn-info btn-lg"},"Search")),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement(l.b,{to:"/saved",className:"btn btn-warning btn-lg"},"Saved")))))},b=function(e){return c.a.createElement("div",{className:"row"},e.children)},E=function(e){return c.a.createElement("div",{className:"\n        mb-4\n        col-".concat(e.xs||"12"," \n        ").concat(e.sm?"col-sm-".concat(e.sm):"","\n        ").concat(e.md?"col-md-".concat(e.md):"","\n      ")},e.children)},p=function(e){return c.a.createElement("div",{className:"card"},e.title?c.a.createElement("h4",{className:"card-header"},e.title):"",e.image?c.a.createElement("img",{src:e.image,alt:e.title,className:"card-img"}):"",c.a.createElement("div",{className:"card-body"},e.children))},g=(a(61),a(13)),S=a.n(g),N=function(e){return S.a.post("/api/movies",e)},M=function(){return S.a.get("/api/movies")},w=function(e){return S.a.delete("/api/movies/".concat(e))},j=function(e){return S.a.get("http://www.omdbapi.com",{params:{t:e,apikey:"85f33b0b"}})},y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={searchTerm:"",movieList:[],movie:{},savedMovieIds:[]},a.handleInputChange=function(e){var t=e.target,n=t.name,c=t.value;a.setState(Object(m.a)({},n,c))},a.handleFormSubmit=function(e){e.preventDefault(),j(a.state.searchTerm).then(function(e){var t=e.data;console.log(t),a.setState({movie:t})}).then(a.retrieveSavedMovies).catch(function(e){return console.log(e)})},a.handleSaveMovie=function(){console.log(a.state.movie),N(a.state.movie).then(function(e){var t=e.data;console.log(t)}).catch(function(e){return console.log(e)})},a.retrieveSavedMovies=function(){M().then(function(e){var t=e.data.map(function(e){return e.movieId});a.setState({savedMovieIds:t})})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{fluid:!0,bg:"dark",color:"light",pageTitle:"Search For Movies"}),c.a.createElement("div",{className:"container-fluid"},c.a.createElement(b,null,c.a.createElement(E,{xs:12,md:4},c.a.createElement(p,{title:"Search for a movie"},c.a.createElement("form",{onSubmit:this.handleFormSubmit},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search for a movie",onChange:this.handleInputChange,value:this.state.searchTerm,name:"searchTerm"}),c.a.createElement("button",{type:"submit",className:"btn btn-block btn-dark"},"Search For Movies")))),c.a.createElement(E,{xs:12,md:8},c.a.createElement(b,null,this.state.movie?c.a.createElement(E,{md:6},c.a.createElement(p,{title:this.state.movie.Title,image:this.state.movie.Poster?this.state.movie.Poster:void 0},c.a.createElement("p",null,this.state.movie.Plot),c.a.createElement("button",{onClick:function(){return e.handleSaveMovie()},className:"btn btn-success btn-sm"},"Save Movie"))):c.a.createElement("h2",null,"Search For Movie"))))))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={movieList:[]},a.handleGetSavedMovies=function(){M().then(function(e){var t=e.data;a.setState({movieList:t})}).catch(function(e){return console.log(e)})},a.handleRemoveMovie=function(e){w(e).then(a.handleGetSavedMovies).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.handleGetSavedMovies()}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{fluid:!0,bg:"dark",color:"light",pageTitle:"Viewing Saved Movies"}),c.a.createElement("div",{className:"container-fluid"},c.a.createElement(b,null,this.state.movieList.length?this.state.movieList.map(function(t){return c.a.createElement(E,{key:t._id,md:6},c.a.createElement(p,{title:t.Title,image:t.Poster?t.Poster:void 0},c.a.createElement("p",null,t.Plot),c.a.createElement("button",{onClick:function(){return e.handleRemoveMovie(t._id)},className:"btn btn-danger btn-sm"},"Remove Movie")))}):"")))}}]),t}(n.Component);var O=function(){return c.a.createElement(l.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:y}),c.a.createElement(i.a,{exact:!0,path:"/search",component:y}),c.a.createElement(i.a,{exact:!0,path:"/saved",component:k}))))};r.a.render(c.a.createElement(O,null),document.getElementById("root"))},53:function(e,t,a){e.exports=a(129)}},[[53,1,2]]]);
//# sourceMappingURL=main.c8aac566.chunk.js.map
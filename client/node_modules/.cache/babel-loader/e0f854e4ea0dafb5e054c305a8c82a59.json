{"ast":null,"code":"var _jsxFileName = \"/Users/glennkramsky/Desktop/movie-finder/client/src/pages/search.js\";\nimport React, { Component } from 'react';\nimport Jumbotron from '../components/jumbotron.js';\nimport Row from '../components/row.js';\nimport Col from '../components/col.js';\nimport Card from '../components/card.js';\nimport { Animated } from \"react-animated-css\";\nimport { searchOmdbMovies, saveMovie, removeMovie, getSavedMovies } from '../utils/API';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchTerm: '',\n      movieList: [],\n      movie: {},\n      savedMovieIds: []\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      searchOmdbMovies(this.state.searchTerm).then(({\n        data: movie\n      }) => {\n        console.log(movie);\n        this.setState({\n          movie\n        });\n      }).then(this.retrieveSavedMovies).catch(err => console.log(err));\n    };\n\n    this.handleSaveMovie = title => {\n      console.log(title);\n      const movie = this.state.movi.find(movie => movie.Title === title);\n      console.log(movie);\n      saveMovie(movie).then(({\n        data\n      }) => {\n        console.log(data);\n      }).catch(err => console.log(err));\n    };\n\n    this.retrieveSavedMovies = () => {\n      getSavedMovies().then(({\n        data: dbSavedMovies\n      }) => {\n        const savedMovieIds = dbSavedMovies.map(({\n          movieId\n        }) => movieId);\n        this.setState({\n          savedMovieIds\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Jumbotron, {\n      fluid: true,\n      bg: 'dark',\n      color: 'light',\n      pageTitle: 'Search For Movies',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 12,\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: \"Search for a movie\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Search for a movie\",\n      onChange: this.handleInputChange,\n      value: this.state.searchTerm,\n      name: \"searchTerm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-block btn-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Search For Movies\")))), React.createElement(Col, {\n      xs: 12,\n      md: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.movie ? React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: this.state.movie.Title,\n      image: this.state.movie.Poster ? this.state.movie.Poster : undefined,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.movie.Plot), React.createElement(\"button\", {\n      onClick: () => this.handleSaveMovie(),\n      className: \"btn btn-success btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Save Movie\"))) : React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Search For Movie\"))))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/glennkramsky/Desktop/movie-finder/client/src/pages/search.js"],"names":["React","Component","Jumbotron","Row","Col","Card","Animated","searchOmdbMovies","saveMovie","removeMovie","getSavedMovies","Search","state","searchTerm","movieList","movie","savedMovieIds","handleInputChange","event","target","name","value","setState","handleFormSubmit","preventDefault","then","data","console","log","retrieveSavedMovies","catch","err","handleSaveMovie","title","movi","find","Title","dbSavedMovies","map","movieId","render","Poster","undefined","Plot"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Jumbotron from '../components/jumbotron.js';\nimport Row from '../components/row.js';\nimport Col from '../components/col.js';\nimport Card from '../components/card.js';\nimport {Animated} from \"react-animated-css\";\nimport { searchOmdbMovies, saveMovie, removeMovie, getSavedMovies } from '../utils/API';\n\nclass Search extends Component {\n  state = {\n    searchTerm: '',\n    movieList: [],\n    movie: {},\n    savedMovieIds: []\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n\n    searchOmdbMovies(this.state.searchTerm)\n      .then(({ data: movie }) => {\n        console.log(movie);\n        this.setState({\n          movie\n        })\n      })\n      .then(this.retrieveSavedMovies)\n      .catch(err => console.log(err));\n  };\n\n  handleSaveMovie = (title) => {\n    console.log(title);\n    const movie = this.state.movi.find(movie => movie.Title === title);\n    console.log(movie);\n    saveMovie(movie)\n      .then(({data}) => {\n        console.log(data);\n      })\n      .catch(err => console.log(err));\n  }\n\n  retrieveSavedMovies = () => {\n    getSavedMovies()\n      .then(({ data: dbSavedMovies }) => {\n        const savedMovieIds = dbSavedMovies.map(({ movieId }) => movieId);\n        this.setState({ savedMovieIds });\n      });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Jumbotron fluid bg={'dark'} color={'light'} pageTitle={'Search For Movies'} />\n        <div className=\"container-fluid\">\n          <Row>\n            <Col xs={12} md={4}>\n              <Card title=\"Search for a movie\">\n                <form onSubmit={this.handleFormSubmit}>\n                  <input type=\"text\" className=\"form-control\" placeholder=\"Search for a movie\"\n                    onChange={this.handleInputChange}\n                    value={this.state.searchTerm}\n                    name=\"searchTerm\"\n                  />\n                  <button type=\"submit\" className=\"btn btn-block btn-dark\">Search For Movies</button>\n                </form>\n              </Card>\n            </Col>\n            <Col xs={12} md={8}>\n              <Row>\n                {this.state.movie ? (\n                  <Col md={6}>\n                    <Card title={this.state.movie.Title} image={this.state.movie.Poster ? this.state.movie.Poster : undefined}>\n                      <p>\n                        {this.state.movie.Plot}\n                      </p>\n                \n                      {<button\n                      \n                       onClick={() => this.handleSaveMovie()}\n                       className=\"btn btn-success btn-sm\">\n                       Save Movie\n                     </button>}\n                    </Card>\n                  </Col>\n                ) : <h2>Search For Movie</h2>}\n\n              </Row>\n            </Col>\n          </Row>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}